<div *ngIf="isDataAvailable">

  <!-------------------INITIALDATA---------------->
  <div class="title-author">
    <h2>
      <b>
        <u>{{book.exact_title}}</u>
      </b>
    </h2>
    <div class="row title-author">
      <div class="col-sm-4">
        <div *ngIf="book.frontCover.length > 5; else do_this">
          <img src={{book.frontCover}} alt="Front cover of book" />
          <ng-template #do_this>
            <img src="http://imgsrc.hubblesite.org/hu/db/2003/15/images/a/formats/web.jpg" alt="Front cover of book" />
          </ng-template>
        </div>
      </div>
      <div class="col-sm-2">
        <div class="card smaller-card">
          <img class="card-img-top" src={{book.authorImage}} alt="Image of author">
          <div class="card-body bg-info">
            <div *ngIf="book.authorLink.length > 0; else do_this">
              <a href={{book.authorLink}} class="btn btn-primary" target="_blank">{{book.author.slice(0,4)}}</a>
              <ng-template #do_this>
                <a href="https://www.goodreads.com/author/show/62707.Shunryu_Suzuki" class="btn btn-primary" target="_blank">Mystery...</a>
              </ng-template>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ----------------BUTTONS ------------------>

  <button (click)="toggle('wikiVisible')">Wikipidea Author Article</button>
  <button (click)="toggle('goodreadsVisible')">Goodreads Description</button>
  <button (click)="toggle('amazonDescriptionVisible')">Amazon Description</button>
  <button (click)="toggle('goodreadsReviewVisible')">Goodreads Reviews</button>
  <button (click)="toggle('amazonReviewVisible')">Amazon Reviews</button>
  <button (click)="toggle('amazonSimilarBooksVisible')">Amazon Similar Books</button>
  <button (click)="toggle('goodreadsSimilarBooksVisible')">Goodreads Similar Books</button>
  <button (click)="toggle('penguinDataVisible')">Penguin Info</button>



  <!-------------------------WIKIPEDIA---------------------->

  <div *ngIf="buttonToggle.wikiVisible">
    <div *ngFor="let wiki of book.wikipedia; let i=index">
      <b>{{wiki.slice(0, periods[i])}}</b>{{wiki.slice(periods[i], wiki.length)}}
      <br />
      <br />
    </div>
  </div>

  <!-- ---------------GOODREADS DESCRIPTION --------------- -->

  <div *ngIf="buttonToggle.goodreadsVisible">
    <div [innerHTML]="book.goodreadsDescription"></div>
  </div>

  <!-- -----------------AMAZON DESCRIPTION------------------ -->

  <div *ngIf="buttonToggle.amazonDescriptionVisible">
    <div [innerHTML]="book.amazonReview"></div>
  </div>

  <!----------------------Goodreads Reviews iframe ------------- -->

  <div *ngIf="buttonToggle.goodreadsReviewVisible">
    <iframe [src]='sanitizer.bypassSecurityTrustResourceUrl(book.goodreadsReviewsWidget)' width="100%" height="100%" frameborder="0"></iframe>
  </div>

  <!-- -----------------------AMAZON REVIEWS IFRAME------------------ -->

  <div *ngIf="buttonToggle.amazonReviewVisible">
    <iframe [src]='sanitizer.bypassSecurityTrustResourceUrl(book.amazonCustomerReviews)' width="100%" height="100%" frameborder="0"></iframe>
  </div>

  <!-- ------------AMAZON SIMILAR BOOKS LINKS TO GOODREADS---------- -->
  <div *ngIf="buttonToggle.amazonSimilarBooksVisible">
    <div *ngFor="let book of book.amazonSimilarProducts">
      <a href={{book.ASIN[0]}} alt="Link to similar book at goodreads" target="_blank">{{book.Title[0]}}</a>
      <br />
      <br />
    </div>
  </div>

  <!-- ---------------------GOODREADS SIMILAR BOOKS-------------- -->

  <div *ngIf="buttonToggle.goodreadsSimilarBooksVisible">
    <div *ngFor="let book of book.goodreadsSimilarBooks">
      <a href={{book.authors[0].author[0].link[0]}} target="_blank">{{book.authors[0].author[0].name[0]}}</a>
      <div *ngIf="book.image_url[0].indexOf('nophoto') === -1">
        <img src={{book.image_url[0]}} alt="image of goodreads similar book" />
      </div>
      <a href={{book.link[0]}} alt="Redirect to book (goodreads)" target="_blank">{{book.title[0]}}</a>
      <br />
      <br />
    </div>
  </div>

  <!-- -------------------------Penguin Data--------------------- -->

  <div *ngIf="buttonToggle.penguinDataVisible">
    <div *ngFor="let book of book.penguinData">
      <a href={{book.url}} alt="url to book" target="_blank">{{book.name}}</a>
      <p>{{book.author}}</p>
      <div [innerHTML]="book.description"></div>
      <br />
      <br />
    </div>
  </div>

</div>
